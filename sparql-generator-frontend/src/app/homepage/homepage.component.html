<div class="container">
  <div class="row">
    <div class="col-md-3">
      <div class="btn-group pt-2" role="group">
        <input type="text" class="form-control" placeholder="Enter Ontology" #ontologyInput>
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="button" (click)="getOntology(ontologyInput.value)">Get
            Ontology
          </button>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="btn-group pt-2" role="group">
        <button type="button" class="btn btn-secondary" [class.active]="showProperty" (click)="showPropertyTable()">
          Property
        </button>
        <button type="button" class="btn btn-secondary" [class.active]="showIsPropertyOf"
                (click)="showIsPropertyOfTable()">Is Property Of
        </button>
      </div>
    </div>
    <div class="col-md-6"></div>
  </div>

  <div class="d-flex justify-content-center">
    <div *ngIf="loading" class="pt-lg-5">
      <div class="spinner-border text-primary" role="status">
        <span class="sr-only"></span>
      </div>
    </div>
  </div>
  <div *ngIf="!loading">
    <div class="row mt-4">
      <div class="col-md-6">
        <div *ngIf="showProperty" style="max-height: 400px; overflow-y: scroll;">
          <table class="table table-striped">
            <thead>
            <tr>
              <th>Property</th>
              <th>Check</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of property">
              <td>{{item.description}}</td>
              <td><input type="checkbox" (change)="onCheckChange($event, item)"></td>
            </tr>
            </tbody>
          </table>
        </div>
        <div *ngIf="showIsPropertyOf" style="max-height: 400px; overflow-y: scroll;">
          <table class="table table-striped">
            <thead>
            <tr>
              <th>Is Property Of</th>
              <th>Check</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of isPropertyOf">
              <td>{{item.description}}</td>
              <td><input type="checkbox" (change)="onCheckChange($event, item)"></td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="col-md-6">
        <div class="d-flex justify-content-center">
          <div *ngIf="sparqlQueryLoading" class="pt-lg-5">
            <div class="spinner-border text-primary" role="status">
              <span class="sr-only"></span>
            </div>
          </div>
        </div>
        <div *ngIf="!sparqlQueryLoading">
          <div *ngIf="generatedQuery" class="mt-4">
            <label for="queryResult">SPARQL Query:</label>
            <textarea class="form-control" id="queryResult" rows="5" readonly>{{generatedQuery}}</textarea>
            <button class="btn btn-primary mt-4" (click)="executeSparql()">Execute Sparql</button>
            <button class="btn btn-primary mt-4" (click)="executeSparqlWithClearResponse()">Execute Sparql With Clear
              Response
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <button class="btn btn-primary mt-4" (click)="generateSparql(limitInput.value)">Generate</button>
  <button class="btn btn-primary mt-4" (click)="generateSparqlWithLabels()">Generate With Labels</button>
  <button class="btn btn-primary mt-4" (click)="generateDynamicSparql(limitInput.value)">Generate Dynamic</button>
  <input type="number" class="form-control mt-4" value="0" style="width: 15%" #limitInput>
  <div *ngIf="formattedResults && formattedResults.length > 0">
    <table mat-table [dataSource]="formattedResults" class="mat-elevation-z8 mt-4 mb-4">
      <ng-container *ngFor="let key of keys" [matColumnDef]="key">
        <th mat-header-cell *matHeaderCellDef>{{ key }}</th>
        <td mat-cell *matCellDef="let result">
          <ng-container *ngIf="!isUrl(result[key])">{{ result[key] }}</ng-container>
          <a *ngIf="isUrl(result[key])" (click)="getOntologyWithPage(result[key])">{{ result[key] }}</a>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="keys"></tr>
      <tr mat-row *matRowDef="let row; columns: keys;"></tr>
    </table>
  </div>



</div>
